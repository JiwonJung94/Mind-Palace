관계형 데이터베이스 모델에서 "관계"라는 용어는 매우 중요합니다. 이 글에서는 관계의 정의와 그 특성을 설명합니다.

## 관계의 정의

관계는 두 가지 주요 구성 요소로 이루어집니다: **헤딩**(Heading)과 **바디**(Body)입니다.

1. **헤딩(Heading)**: 헤딩은 관계의 구조를 정의하는 속성들의 집합으로, 각 속성은 이름과 데이터 타입을 가집니다. 이는 관계의 스키마를 결정합니다.
    
2. **바디(Body)**: 바디는 헤딩에 맞춰 구성된 튜플들의 집합으로, 관계의 실제 데이터를 포함합니다. 바디의 튜플 수를 **기수**(Cardinality)라고 하며, 이는 관계가 포함하는 데이터의 양을 나타냅니다.

## 관계의 특성

관계의 몇 가지 중요한 특성은 다음과 같습니다:

1. **중복 없음**: 관계는 중복 튜플을 포함하지 않습니다. 이는 수학적 집합의 특성에 기인하며, 데이터베이스에서 데이터의 일관성을 유지하는 데 도움을 줍니다.

2. **null 없음**: 관계는 널(null)을 포함하지 않습니다. 이는 튜플이 항상 완전한 정보를 제공해야 한다는 원칙에 기반합니다.

3. **순서의 무관성**: 튜플의 순서는 관계에서 중요하지 않습니다. 즉, 튜플이 어떤 순서로 나열되든 관계의 본질은 변하지 않습니다. 이는 속성의 순서와도 관련이 있으며, 속성의 순서 역시 관계의 의미에 영향을 미치지 않습니다.

## 튜플의 추출과 포함 여부

관계에서 특정 튜플을 추출하거나, 튜플이 관계에 포함되어 있는지를 확인하는 작업은 데이터베이스에서 중요한 연산입니다.

1. **튜플 추출**: 관계에서 단일 튜플을 추출하는 연산은 관계가 단일 튜플만을 포함할 때 가능하며, 이는 특정 조건을 만족하는 데이터를 직접적으로 얻을 때 사용됩니다.
    
2. **튜플 포함 여부**: 특정 튜플이 관계에 포함되어 있는지를 확인하는 것은 데이터 무결성을 검사하거나, 특정 조건을 만족하는 데이터를 검색할 때 유용합니다. 이는 튜플이 관계의 바디에 속하는지를 검사하는 연산으로, 수학적 집합의 원소 포함 여부와 유사합니다.


## 관계형 데이터베이스에서의 n차원 관계

관계형 데이터베이스 모델에서 "관계"는 흔히 테이블로 시각화되지만, 이는 관계의 본질을 완전히 설명하지 못합니다. 관계는 단순히 "평면적"이거나 "2차원적"인 구조가 아닙니다. 관계는 실제로 n차원 공간에 존재합니다. 관계가 n개의 속성을 가진다면, 각 튜플은 n차원 공간의 한 점을 나타냅니다. 따라서 관계 전체는 이러한 점들의 집합으로, n차원 공간을 형성합니다. 예를 들어, 4개의 속성을 가진 관계는 4차원 공간에서 정의되며, 각 튜플은 이 공간의 한 점이 됩니다. 

### 차원의 이해

1. **속성의 수와 차원**: 관계의 차원은 그 속성의 수와 직접적으로 연관됩니다. 각 속성은 하나의 차원을 형성하며, 모든 속성이 결합되어 전체 관계의 차원을 결정합니다.
    
2. **튜플과 점**: 각 튜플은 n차원 공간에서 특정 위치를 정의하는 점으로 간주됩니다. 이러한 관점에서 보면, 관계는 단순한 데이터의 집합이 아니라, 복잡한 다차원 공간 내에서의 위치 정보를 포함하게 됩니다.

## 바디의 부분집합

관계의 바디는 수학적 집합의 특성을 따릅니다. 즉, 바디의 모든 부분집합 역시 바디로 간주될 수 있습니다. 이는 관계가 다양한 조건에 따라 부분집합으로 나뉘어질 수 있음을 의미합니다.

### 무속성 관계의 정의

관계형 데이터베이스 이론에서 모든 관계는 속성의 집합으로 정의됩니다. 이 집합은 비어 있을 수도 있으며, 이 경우 관계는 "무속성" 상태가 됩니다. 무속성 관계는 속성의 수가 0인 관계를 의미합니다. 즉, 헤딩이 비어 있는 관계입니다. 이러한 관계의 차수(degree)는 0이며, RELATION { } 타입으로 표현됩니다. 이러한 무속성 관계는 두 가지 형태로 존재할 수 있으며, 이들을 각각 **TABLE_DUM**과 **TABLE_DEE**라고 부릅니다. 

### 무속성 관계의 두 가지 형태

1. **TABLE_DUM**: 튜플을 전혀 포함하지 않는 빈 관계입니다. 이는 '거짓' 또는 '아니오'를 의미하며, 집합론에서 공집합과 유사한 역할을 합니다.
    
2. **TABLE_DEE**: 단 하나의 0-튜플을 포함하는 관계입니다. 이는 '참' 또는 '예'를 의미하며, 집합론에서 항등원과 유사한 역할을 합니다.

### 관계형 대수에서의 역할

- **논리적 의미**: TABLE_DUM은 '거짓', TABLE_DEE는 '참'을 나타내며, 논리 연산의 결과를 표현하는 데 사용됩니다.
- **연산의 항등원**: TABLE_DEE는 관계형 대수 연산에서 항등원의 역할을 하며, 연산의 결과에 영향을 주지 않는 기본 요소로 작용합니다.


## SQL에서의 테이블 개념

SQL에서 "테이블"은 주로 테이블 값(table value)을 의미하며, 이는 SQL 테이블 값을 나타냅니다. CREATE TABLE이나 CREATE VIEW와 같은 명령어로 생성되는 테이블 변수(table variable)와는 구별됩니다. SQL 테이블은 여러 행(row)으로 구성된 집합입니다. 각 행은 특정 행 타입(row type)을 가지며, 이 집합은 일반적으로 집합(set)이 아닌 백(bag)으로 취급됩니다. 이는 중복을 허용한다는 것을 의미합니다.

### 테이블 값 생성자

SQL에는 테이블 값을 생성하는 특별한 구문이 있습니다. 이를 통해 테이블 리터럴을 만들 수 있으며, 이는 관계형 데이터베이스의 관계 셀렉터와 유사합니다. 테이블 값 생성자는 여러 행과 열로 구성된 테이블을 생성하며, 열은 이름 대신 순서로 식별될 수 있습니다.

### 테이블 값 생성자의 조건

테이블 값 생성자가 관계형 데이터베이스의 관계와 유사해지려면 다음 조건을 만족해야 합니다:

1. 각 행에서 특정 위치의 값이 동일한 속성에 해당해야 합니다.
2. 각 위치의 값들은 해당 속성의 적절한 타입이어야 합니다.
3. 동일한 행이 두 번 이상 나타나지 않아야 합니다.

### SQL에서의 테이블 비교

SQL에서는 테이블 간의 직접적인 비교 연산자를 제공하지 않습니다. 예를 들어, 두 테이블이 동일한지 비교하는 연산자는 존재하지 않지만, 이를 우회하는 방법이 있습니다. SQL은 백(bag) 간의 비교를 지원하며, 테이블을 백으로 변환하는 연산자도 제공합니다. 이를 통해 테이블을 백으로 변환한 후 비교할 수 있습니다.
