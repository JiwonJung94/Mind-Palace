데이터베이스 제약 조건은 데이터베이스 내에서 허용되는 데이터의 형태를 규정하는 규칙입니다. 이러한 제약 조건은 데이터의 유효성을 검사하고, 데이터베이스의 비즈니스 규칙을 강제하여 데이터의 무결성을 유지합니다. 제약 조건은 데이터베이스의 설계 단계에서 정의되며, 데이터 입력, 업데이트, 삭제 시 항상 검증됩니다.

## 데이터베이스 제약 조건의 유형

1. **단일 속성 제약 조건 (Attribute Constraints)**

단일 속성에 대한 제약 조건은 해당 속성의 값이 특정 범위 내에 있어야 함을 강제합니다. 예를 들어, 공급자의 상태 값이 1에서 100 사이여야 한다는 제약 조건은 단일 속성 제약 조건입니다. 이러한 제약 조건은 각 튜플의 해당 속성을 개별적으로 검사하여 만족 여부를 판단할 수 있습니다.

- **도메인 제약 조건**: 특정 속성의 값이 허용된 범위 내에 있어야 함을 규정합니다. 이는 데이터의 유효성을 보장하는 데 사용됩니다.

2. **다중 속성 제약 조건 (Multi-Attribute Constraints)**

다중 속성 제약 조건은 두 개 이상의 속성 간의 관계를 정의합니다. 이는 데이터베이스 내에서 중복된 데이터 입력을 방지하고, 논리적 일관성을 유지하는 데 사용됩니다.

- **유일성 제약 조건**: 두 개 이상의 속성의 조합이 유일해야 함을 규정합니다. 이는 데이터베이스 내에서 중복된 데이터 입력을 방지하는 데 사용됩니다.
- **체크 제약 조건**: 여러 속성 간의 논리적인 조건을 정의합니다. 예를 들어, 특정 도시의 공급자는 특정 상태 값을 가져야 한다는 규칙은 체크 제약 조건으로 정의될 수 있습니다.

3. **다중 테이블 제약 조건 (Multi-Table Constraints)**

다중 테이블 제약 조건은 여러 테이블에 걸친 제약 조건으로, 테이블 간의 관계를 정의합니다. 이는 데이터베이스의 참조 무결성을 보장하는 데 중요합니다.

- **외래 키 제약 조건**: 두 테이블 간의 관계를 정의합니다. 예를 들어, `SP` 테이블의 공급자 번호는 `S` 테이블의 공급자 번호와 일치해야 한다는 규칙은 외래 키 제약 조건입니다. 이는 데이터베이스의 참조 무결성을 보장합니다.

4. **기능적 종속성 제약 조건 (Functional Dependency Constraints)**

기능적 종속성 제약 조건은 특정 속성이 다른 속성에 의해 결정되어야 함을 명시합니다. 이는 데이터베이스 내에서 특정 속성 집합이 다른 속성 집합을 결정하는 관계를 정의합니다.

- 예를 들어, 공급자 번호가 도시를 결정해야 한다는 규칙은 기능적 종속성 제약 조건입니다. 이는 데이터베이스의 논리적 일관성을 유지하는 데 중요합니다.

## SQL에서의 데이터베이스 제약 조건

SQL에서는 제약 조건을 정의하는 두 가지 주요 방법이 있습니다: `CREATE ASSERTION` 문과 "기본 테이블 제약 조건(base table constraint)"입니다.

1. **CREATE ASSERTION**:
    
    - 이 문은 데이터베이스 전반에 걸쳐 적용될 수 있는 전역 제약 조건을 정의합니다. 여러 테이블에 걸쳐 있는 복잡한 제약 조건을 정의할 때 유용합니다. 그러나 많은 SQL 구현체가 이 기능을 지원하지 않기 때문에 실제 사용에는 제약이 있습니다.

2. **기본 테이블 제약 조건(Base Table Constraint)**:
    
    - 이는 특정 테이블의 정의에 포함되어 있는 제약 조건입니다. `CREATE TABLE` 문 내에서 정의되며, 테이블의 각 행에 대해 개별적으로 검증될 수 있는 제약 조건을 설정합니다. 이러한 스타일은 단일 테이블 내에서 행 제약 조건(row constraint)을 정의할 때 간단하고 효율적입니다. 주요 제약 조건으로는 `PRIMARY KEY`, `FOREIGN KEY`, `UNIQUE`, `CHECK` 등이 있습니다.

	- **PRIMARY KEY**: 테이블 내에서 각 행을 고유하게 식별하는 속성(들)을 지정합니다.
	- **FOREIGN KEY**: 다른 테이블의 기본 키와의 관계를 정의하여 참조 무결성을 유지합니다.
	- **UNIQUE**: 특정 속성의 값이 테이블 내에서 유일해야 함을 보장합니다.
	- **CHECK**: 특정 조건을 만족하는지 여부를 검사하여 데이터의 유효성을 보장합니다.

## 제약 조건의 한계와 대안

현재 많은 SQL 제품이 `CREATE ASSERTION`을 지원하지 않으며, 기본 테이블 제약 조건도 간단한 행 제약 조건 이상을 지원하지 않는 경우가 많습니다. 특히, 서브쿼리를 포함하는 복잡한 제약 조건은 기본 테이블 제약 조건으로 정의할 수 없는 경우가 많습니다.

이러한 제약 조건의 한계를 극복하기 위해, 많은 경우 절차적 코드(예: 트리거)를 사용하여 제약 조건을 구현해야 합니다. 그러나 이러한 코드는 작성하기 어렵고 유지보수가 까다로울 수 있습니다. 따라서, 가능한 경우 제약 조건을 선언적으로 정의하는 것이 권장됩니다.